{"version":3,"sources":["assets/badges/CritCity.png","assets/badges/London.png","assets/badges/NewYork.png","assets/badges/Watopia.png","assets/badges/Default.png","assets/zwiftinsider.png","models/index.ts","ui/components/CompletedIcon.tsx","ui/components/FormDisplay.tsx","ui/components/FormFilter.tsx","ui/components/FormSortOrder.tsx","ui/components/LoadingIndicator.tsx","ui/components/LoadingOverlay.tsx","ui/components/WorldBadge.tsx","ui/components/ZwiftInsiderLink.tsx","ui/components/ZwiftRouteIcons.tsx","utils/comparators.ts","utils/display-units.ts","ui/components/ZwiftRouteListItem.tsx","redux/modules/app/actions.ts","ui/components/ZwiftRouteList.tsx","ui/components/ZwiftRouteTable.tsx","redux/modules/route/actions.ts","services/DexieUserService.ts","services/index.ts","services/ZwiftRouteService.ts","redux/actions.ts","ui/containers/mobile/RouteDetailsPage.tsx","ui/containers/mobile/MobileSideMenu.tsx","ui/containers/mobile/RouteListPage.tsx","ui/containers/desktop/RouteStatistics.tsx","ui/containers/mobile/RouteStatsPage.tsx","ui/containers/mobile/SettingsPage.tsx","ui/containers/MobileApplication.tsx","ui/containers/desktop/MasterDetailContainer.tsx","ui/containers/desktop/RouteDetails.tsx","ui/containers/desktop/TopApplicationBar.tsx","ui/containers/DesktopApplication.tsx","ui/containers/MainApplication.tsx","redux/modules/app/reducer.ts","redux/modules/route/reducer.ts","redux/store.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","DisplayUnits","SortDirection","SortField","ZwiftSport","CompletedIcon","isCompleted","data-testid","fontSize","style","color","green","grey","useStyles","makeStyles","theme","createStyles","checkControl","paddingLeft","spacing","formControl","margin","minWidth","formGroup","FormDisplay","onUpdate","displaySettings","FormGroup","className","FormControl","InputLabel","htmlFor","Select","value","units","toString","onChange","event","target","MenuItem","key","FormFilter","filter","routes","worlds","uniq","map","r","zwiftWorld","world","FormControlLabel","control","Checkbox","label","checked","includeDefaultWorld","includeCompletedRoutes","includeEventOnlyRoutes","sport","FormSortOrder","sortOrder","sortField","sortDirection","LoadingIndicator","error","isLoading","onClick","useState","dialogIsOpen","setOpenDialog","closeDialogHandler","IconButton","orange","Dialog","onClose","open","DialogTitle","DialogContent","dividers","Typography","gutterBottom","message","DialogActions","Button","autoFocus","CircularProgress","root","backgroundColor","cursor","position","left","top","height","width","display","alignItems","justifyContent","LoadingScreen","styles","size","badges","CritCityBadge","LondonBadge","NewYorkBadge","WatopiaBadge","badge","maxHeight","maxWidth","WorldBadge","DefaultBadge","src","alt","ZwiftInsiderLink","route","zwiftInsiderLink","rel","href","ZwiftInsiderIcon","iconContainer","padding","icon","marginRight","marginLeft","text","fontFamily","verticalAlign","ZwiftRouteIcons","eventOnlyIcon","Tooltip","title","aria-label","cyclingIcon","runningIcon","levelIcon","minimumZwiftLevel","isEventOnly","isForCycling","isForRunning","ZwiftRoute","staticData","dynamicData","id","difficulty","leadinDistance","leadinElevationGain","routeDistance","routeElevationGain","routeName","totalDistance","totalElevationGain","sports","toLowerCase","this","eventonly","leadin_distance","leadin_elevation","level","distance","elevation","name","w","split","word","capitalize","join","link","URL","routeId","worldSet","push","includes","AllSports","Cycling","Running","maximumZwiftLevel","alphabetically","a","b","localeCompare","getComparator","Difficulty","Ascending","RouteDistance","RouteElevationGain","TotalDistance","TotalElevationGain","Name","formatDistance","displayUnits","Imperial","toMiles","toFixed","Metric","formatElevationGain","elevationGain","toFeet","ActionType","ZwiftRouteListItem","secondaryText","ListItem","button","divider","ListItemAvatar","ListItemText","secondary","variant","ZwiftRouteList","onRouteSelected","List","table","paddingRight","ZwiftRouteTable","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","colSpan","RouteActionTypes","setDisplay","type","SetDisplay","payload","setError","SetError","setFilter","SetFilter","setSort","SetSort","startRequest","StartRequest","stopRequest","StopRequest","ZwiftUserDatabase","databaseName","options","indexedDB","routeState","version","stores","Dexie","DexieUserService","database","autoOpen","toArray","result","get","userData","put","routeService","userService","sourceData","staticRouteData","getAllUserData","allUserData","routeData","find","undefined","getUserData","getZwiftUserData","setUserData","updateRoute","dispatch","storeZwiftRoute","then","UpdateRoute","updateRouteInStore","catch","flexFlow","content","flexGrow","overflowY","menuIconButton","infoBlock","infoRight","infoTop","textAlign","infoBottom","zwiftInsiderBlock","completedBlock","RouteDetailsPage","useParams","history","useHistory","useDispatch","useSelector","state","appSettings","app","AppBar","Toolbar","edge","goBack","overflowX","drawerPaper","drawer","mixins","toolbar","MobileSideMenu","onSelect","dc","paper","Drawer","classes","anchor","ListItemIcon","RouteListPage","React","setDrawer","routeList","isMatch","sort","replace","marginTop","emptyStats","completedCount","totalCount","completedScore","totalScore","updateStats","obj","RouteStatistics","routeStats","forEach","totals","completedStats","stats","percent","scoreStats","titleComponent","RouteStatsPage","SettingsPage","actions","MobileApplication","path","container","detail","master","MasterDetailContainer","children","lower","upper","info","paddingTop","links","completedLink","RouteDetails","onCompletedChanged","iconButton","palette","primary","contrastText","TopApplicationBar","isBusy","onAcknowledgeError","onOpenMenu","onOpenSettings","fullPage","mainLayout","mainContent","alignSelf","dialogTitle","dialogClose","right","DesktopApplication","drawerIsOpen","settingsIsOpen","setSettings","appState","masterComponent","requests","ClearError","disableTypography","MainApplication","queries","mobile","desktop","matches","initialState","reducer","action","LoadRoutes","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","appReducer","routeReducer","loggerConfiguration","collapsed","diff","predicate","jest","middleware","applyMiddleware","createLogger","thunkMiddleware","store","compose","createStore","persistor","persistStore","getAllZwiftRoutes","Boolean","window","location","hostname","match","ReactDOM","render","loading","LoadingOverlay","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.3ed8ca69.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CritCity.b20b41b5.png\";","module.exports = __webpack_public_path__ + \"static/media/London.01df692c.png\";","module.exports = __webpack_public_path__ + \"static/media/NewYork.caf4ccfa.png\";","module.exports = __webpack_public_path__ + \"static/media/Watopia.e5ad7e91.png\";","module.exports = __webpack_public_path__ + \"static/media/Default.964b675c.png\";","module.exports = \"data:image/png;base64,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\"","import capitalize from 'lodash/capitalize';\r\n\r\n/**\r\n * Possible values for the display-units.  Either imperial (miles and feet),\r\n * or metric (kilometers and meters).\r\n */\r\nexport enum DisplayUnits {\r\n  Imperial            = 'imperial',\r\n  Metric              = 'metric'\r\n}\r\n\r\n/**\r\n * Possible values for the list sort direction - ascending or descending.\r\n */\r\nexport enum SortDirection {\r\n  Ascending           = 'ascending',\r\n  Descending          = 'descending'\r\n}\r\n\r\n/**\r\n * Possible values for the sort field.\r\n */\r\nexport enum SortField { \r\n  Name                = 'name',\r\n  Difficulty          = 'difficulty',\r\n  RouteDistance       = 'routeDistance',\r\n  RouteElevationGain  = 'routeElevationGain',\r\n  TotalDistance       = 'totalDistance',\r\n  TotalElevationGain  = 'totalElevationGain'\r\n}\r\n\r\n/**\r\n * List of potential sports that can be done on Zwift.\r\n */\r\nexport enum ZwiftSport {\r\n  AllSports           = '*',\r\n  Cycling             = 'cycling',\r\n  Running             = 'running'\r\n}\r\n\r\n/**\r\n * Definition of the display settings to use.\r\n */\r\nexport interface DisplaySettings {\r\n  units: DisplayUnits;\r\n}\r\n\r\n/**\r\n * Definition of a filter used to limit the number of routes in the list.\r\n */\r\nexport interface RouteFilter {\r\n  world?: string;\r\n  sport?: ZwiftSport;\r\n  includeCompletedRoutes: boolean;\r\n  includeEventOnlyRoutes: boolean;\r\n  includeDefaultWorld: boolean;\r\n  maximumZwiftLevel?: number;\r\n}\r\n\r\n/**\r\n * When we sort, we sort by a field and direction.\r\n */\r\nexport interface SortOrder {\r\n  sortField: SortField;\r\n  sortDirection: SortDirection;\r\n}\r\n\r\n/**\r\n * The format of a single routes.json entry.\r\n */\r\nexport interface ZwiftRouteData {\r\n  id: string;\r\n  difficulty: number;\r\n  distance: number;\r\n  elevation: number;\r\n  eventonly: boolean;\r\n  leadin_distance: number;\r\n  leadin_elevation: number;\r\n  level?: number;\r\n  link?: string;\r\n  name: string;\r\n  sports?: string;\r\n  world: string;\r\n}\r\n\r\n/**\r\n * The format of the data written to / read from the IndexedDB\r\n */\r\nexport interface ZwiftUserData {\r\n  routeId: string;\r\n  isCompleted: boolean;\r\n}\r\n\r\n/**\r\n * A ZwiftRoute combines the static data from the routes.json file and\r\n * the dynamic data from the IndexedDB.\r\n */\r\nexport class ZwiftRoute {\r\n  readonly id: string;\r\n  \r\n  readonly difficulty: number;\r\n  isCompleted: boolean;\r\n  readonly isEventOnly: boolean;\r\n  readonly isForCycling: boolean;\r\n  readonly isForRunning: boolean;\r\n  readonly leadinDistance: number;\r\n  readonly leadinElevationGain: number;\r\n  readonly minimumZwiftLevel: number;\r\n  readonly routeDistance: number;\r\n  readonly routeElevationGain: number;\r\n  readonly routeName: string;\r\n  readonly totalDistance: number;\r\n  readonly totalElevationGain: number;\r\n  readonly zwiftInsiderLink?: URL;\r\n  readonly zwiftWorld: string;\r\n\r\n  constructor(staticData: ZwiftRouteData, dynamicData?: ZwiftUserData) {\r\n    const sport = (staticData.sports || 'all').toLowerCase();\r\n\r\n    this.id = staticData.id;\r\n    this.difficulty = staticData.difficulty;\r\n    this.isCompleted = dynamicData?.isCompleted || false;\r\n    this.isEventOnly = staticData.eventonly;\r\n    this.isForCycling = sport === 'all' || sport === 'cycling';\r\n    this.isForRunning = sport === 'all' || sport === 'running';\r\n    this.leadinDistance = staticData.leadin_distance;\r\n    this.leadinElevationGain = staticData.leadin_elevation;\r\n    this.minimumZwiftLevel = staticData.level || 0;\r\n    this.routeDistance = staticData.distance;\r\n    this.routeElevationGain = staticData.elevation;\r\n    this.routeName = staticData.name;\r\n    this.totalDistance = staticData.leadin_distance + staticData.distance;\r\n    this.totalElevationGain = staticData.leadin_elevation + staticData.elevation;\r\n\r\n    const w = staticData.world.split(/\\s+/);\r\n    this.zwiftWorld = w.map((word) => capitalize(word)).join(' ');\r\n\r\n    if (staticData.link) {\r\n      this.zwiftInsiderLink = new URL(staticData.link);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the dynamic data for a route.\r\n   */\r\n  getZwiftUserData(): ZwiftUserData {\r\n    return { routeId: this.id, isCompleted: this.isCompleted };\r\n  }\r\n\r\n  /**\r\n   * Checks to see if a route needs to be included or excluded based on \r\n   * filter criteria.\r\n   * \r\n   * @param filter the RouteFilter to use\r\n   * @returns true if it is to be included; false if excluded.\r\n   */\r\n  isMatch(filter: RouteFilter): boolean {\r\n    if (filter.world && filter.world !== '*') {\r\n      const worldSet = [ filter.world ];\r\n      if (filter.includeDefaultWorld) worldSet.push('Watopia');\r\n      if (!worldSet.includes(this.zwiftWorld)) return false;\r\n    }\r\n\r\n    if (filter.sport && filter.sport !== ZwiftSport.AllSports) {\r\n      if (filter.sport === ZwiftSport.Cycling && !this.isForCycling) return false;\r\n      if (filter.sport === ZwiftSport.Running && !this.isForRunning) return false;\r\n    }\r\n\r\n    if (filter.maximumZwiftLevel) {\r\n      if (this.minimumZwiftLevel >= filter.maximumZwiftLevel) return false;\r\n    }\r\n\r\n    if (!filter.includeCompletedRoutes && this.isCompleted) return false;\r\n    if (!filter.includeEventOnlyRoutes && this.isEventOnly) return false;\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport NoIcon from '@material-ui/icons/CancelOutlined';\r\nimport YesIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport { green, grey } from '@material-ui/core/colors';\r\n\r\nexport interface CompletedIconProps {\r\n  isCompleted?: boolean;\r\n}\r\n\r\n/** Component to display the correct completion icon */\r\nconst CompletedIcon: React.SFC<CompletedIconProps> = \r\n  ({ isCompleted = false }: CompletedIconProps) => {\r\n    return isCompleted \r\n      ? <YesIcon data-testid=\"is-completed-icon\" fontSize=\"large\" style={{ color: green[500] }} />\r\n      : <NoIcon data-testid=\"not-completed-icon\" fontSize=\"large\" style={{ color: grey[500] }} />\r\n  };\r\n\r\nexport default CompletedIcon;\r\n","import React, { ChangeEvent } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport { DisplaySettings } from 'src/models';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  checkControl: {\r\n    paddingLeft: theme.spacing(1)\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 200\r\n  },\r\n  formGroup: {\r\n    margin: theme.spacing(1)\r\n  }\r\n}));\r\n\r\ninterface FormDisplayProps {\r\n  displaySettings: DisplaySettings;\r\n  onUpdate: (sortOrder: DisplaySettings) => void;\r\n}\r\n\r\nconst FormDisplay: React.SFC<FormDisplayProps> = \r\n  ({ onUpdate, displaySettings }: FormDisplayProps) => {\r\n    const style = useStyles();\r\n\r\n    const updateDisplayUnits = (event: ChangeEvent<any>): void => {\r\n      onUpdate({ ...displaySettings, units: event.target.value });\r\n    };\r\n\r\n   return (\r\n      <FormGroup className={style.formGroup}>\r\n        <FormControl className={style.formControl}>\r\n          <InputLabel htmlFor=\"display-units\">Display Units</InputLabel>\r\n          <Select value={displaySettings.units.toString()} onChange={updateDisplayUnits}>\r\n            <MenuItem key=\"imperial\" value=\"imperial\">Imperial (miles/feet)</MenuItem>\r\n            <MenuItem key=\"metric\" value=\"metric\">Metric (kilometers/meters)</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </FormGroup>\r\n    );\r\n  };\r\n\r\nexport default FormDisplay;\r\n","import React, { ChangeEvent } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport { RouteFilter, ZwiftRoute } from 'src/models';\r\nimport uniq from 'lodash/uniq';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  checkControl: {\r\n    paddingLeft: theme.spacing(1)\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 200\r\n  },\r\n  formGroup: {\r\n    margin: theme.spacing(1)\r\n  }\r\n}));\r\n\r\ninterface FormFilterProps {\r\n  filter: RouteFilter;\r\n  onUpdate: (filter: RouteFilter) => void;\r\n  routes: ZwiftRoute[];\r\n}\r\n\r\nconst FormFilter: React.SFC<FormFilterProps> = \r\n  ({ filter, onUpdate, routes }: FormFilterProps) => {\r\n    const style = useStyles();\r\n    const worlds = uniq(routes.map((r) => r.zwiftWorld));\r\n\r\n    const updateZwiftWorld = (event: ChangeEvent<any>): void => {\r\n      onUpdate({ ...filter, world: event.target.value });\r\n    };\r\n\r\n    const updateZwiftSport = (event: ChangeEvent<any>): void => {\r\n      onUpdate({ ...filter, sport: event.target.value });\r\n    };\r\n\r\n    const updateDefaultRoutes = (event: ChangeEvent<{}>, checked: boolean): void => {\r\n      onUpdate({ ...filter, includeDefaultWorld: checked });\r\n    };\r\n\r\n    const updateCompletedRoutes = (event: ChangeEvent<{}>, checked: boolean): void => {\r\n      onUpdate({ ...filter, includeCompletedRoutes: checked });\r\n    };\r\n\r\n    const updateEventOnlyRoutes = (event: ChangeEvent<{}>, checked: boolean): void => {\r\n      onUpdate({ ...filter, includeEventOnlyRoutes: checked });\r\n    };\r\n\r\n    return (\r\n      <FormGroup className={style.formGroup}>\r\n        <FormControl className={style.formControl}>\r\n          <InputLabel htmlFor=\"zwift-world\">World</InputLabel>\r\n          <Select value={filter.world || '*'} onChange={updateZwiftWorld}>\r\n            <MenuItem key=\"all\" value=\"*\">All worlds</MenuItem>\r\n            {worlds.map((world) => (<MenuItem key={world} value={world}>{world}</MenuItem>))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControlLabel \r\n          className={style.checkControl}\r\n          control={<Checkbox color=\"primary\" />}\r\n          label={`Include Watopia routes`}\r\n          onChange={updateDefaultRoutes}\r\n          checked={filter.includeDefaultWorld}\r\n        />\r\n\r\n        <FormControlLabel \r\n          className={style.checkControl}\r\n          control={<Checkbox color=\"primary\" />}\r\n          label={`Include completed routes`}\r\n          onChange={updateCompletedRoutes}\r\n          checked={filter.includeCompletedRoutes}\r\n        />\r\n\r\n        <FormControlLabel \r\n          className={style.checkControl}\r\n          control={<Checkbox color=\"primary\" />}\r\n          label={`Include event only routes`}\r\n          onChange={updateEventOnlyRoutes}\r\n          checked={filter.includeEventOnlyRoutes}\r\n        />\r\n\r\n        <FormControl className={style.formControl}>\r\n          <InputLabel htmlFor=\"zwift-sport\">World</InputLabel>\r\n          <Select value={filter.sport || '*'} onChange={updateZwiftSport}>\r\n            <MenuItem key=\"all\" value=\"*\">All sports</MenuItem>\r\n            <MenuItem key=\"cycling\" value=\"cycling\">Cycling</MenuItem>\r\n            <MenuItem key=\"running\" value=\"running\">Cycling</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </FormGroup>\r\n    );\r\n  };\r\n\r\nexport default FormFilter;\r\n","import React, { ChangeEvent } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport { SortOrder } from 'src/models';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  checkControl: {\r\n    paddingLeft: theme.spacing(1)\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 200\r\n  },\r\n  formGroup: {\r\n    margin: theme.spacing(1)\r\n  }\r\n}));\r\n\r\ninterface FormSortOrderProps {\r\n  sortOrder: SortOrder;\r\n  onUpdate: (sortOrder: SortOrder) => void;\r\n}\r\n\r\nconst FormSortOrder: React.SFC<FormSortOrderProps> = \r\n  ({ onUpdate, sortOrder }: FormSortOrderProps) => {\r\n    const style = useStyles();\r\n\r\n    const updateSortField = (event: ChangeEvent<any>): void => {\r\n      onUpdate({ ...sortOrder, sortField: event.target.value });\r\n    };\r\n\r\n    const updateSortDirection = (event: ChangeEvent<any>): void => {\r\n      onUpdate({ ...sortOrder, sortDirection: event.target.value });\r\n    };\r\n\r\n   return (\r\n      <FormGroup className={style.formGroup}>\r\n        <FormControl className={style.formControl}>\r\n          <InputLabel htmlFor=\"sort-field\">Sort Field</InputLabel>\r\n          <Select value={sortOrder.sortField.toString()} onChange={updateSortField}>\r\n            <MenuItem key=\"difficulty\" value=\"difficulty\">Difficulty</MenuItem>\r\n            <MenuItem key=\"difficulty\" value=\"name\">Name</MenuItem>\r\n            <MenuItem key=\"difficulty\" value=\"routeDistance\">Route Distance</MenuItem>\r\n            <MenuItem key=\"difficulty\" value=\"routeElevationGain\">Route Elevation Gain</MenuItem>\r\n            <MenuItem key=\"difficulty\" value=\"totalDistance\">Total Distance</MenuItem>\r\n            <MenuItem key=\"difficulty\" value=\"totalElevationGain\">Total Elevation Gain</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl className={style.formControl}>\r\n          <InputLabel htmlFor=\"sort-direction\">Direction</InputLabel>\r\n          <Select value={sortOrder.sortDirection.toString()} onChange={updateSortDirection}>\r\n            <MenuItem key=\"ascending\" value=\"ascending\">Ascending</MenuItem>\r\n            <MenuItem key=\"descending\" value=\"descending\">Descending</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </FormGroup>\r\n    );\r\n  };\r\n\r\nexport default FormSortOrder;\r\n","import React, { useState } from 'react';\r\nimport { orange } from '@material-ui/core/colors';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\n/**\r\n * Properties that you can use with the LoadingIndicator\r\n */\r\nexport interface LoadingIndicatorProps {\r\n  /**\r\n   * If there is an app error, then this is the error\r\n   */\r\n  error?: Error;\r\n\r\n  /**\r\n   * If the app is loading, then this is set to true\r\n   */\r\n  isLoading?: boolean;\r\n\r\n  /**\r\n   * If you want to acknowledge the error, then set the onClick handler\r\n   */\r\n  onClick?: () => void;\r\n}\r\n\r\n/**\r\n * Shows a loading indicator and error handler.\r\n * \r\n * @param props\r\n * @param props.error the app error\r\n * @param props.isLoading show loading indicator?\r\n * @param props.onClick provides a click handler for the button \r\n */\r\nconst LoadingIndicator: React.SFC<LoadingIndicatorProps> = (\r\n  { error, isLoading, onClick }: LoadingIndicatorProps\r\n) => {\r\n  const [ dialogIsOpen, setOpenDialog ] = useState(false);\r\n\r\n  /** Handler for opening the error dialog */\r\n  const openDialogHandler = (): void => {\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  /** Handler for closing the error dialog */\r\n  const closeDialogHandler = (): void => {\r\n    if (onClick) onClick();\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  // Check for error first\r\n  if (error) {\r\n    return (\r\n      <>\r\n        <IconButton onClick={openDialogHandler}>\r\n          <WarningIcon data-testid=\"warning-icon\" fontSize=\"large\" style={{ color: orange[500] }} />\r\n        </IconButton>\r\n        <Dialog onClose={closeDialogHandler} open={dialogIsOpen}>\r\n          <DialogTitle data-testid=\"dialog-title\">Error</DialogTitle>\r\n          <DialogContent dividers style={{ minWidth: '300px' }}>\r\n            <Typography gutterBottom>{error?.message}</Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button autoFocus data-testid=\"ok-button\" onClick={closeDialogHandler} color=\"secondary\">\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Loading, no error\r\n  if (isLoading) {\r\n    return (\r\n      <CircularProgress data-testid=\"progress-bar\" color=\"inherit\" />\r\n    );\r\n  }\r\n\r\n  // No error and not loading\r\n  return (<div data-testid=\"disabled-icon\" />);\r\n};\r\n\r\nexport default LoadingIndicator;\r\n","import React from 'react';\r\nimport { CircleSpinner } from 'react-spinners-kit';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    // Blank out the background\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    cursor: 'not-allowed',\r\n\r\n    // Take over the whole screen\r\n    position: 'fixed',\r\n    left: 0,\r\n    top: 0,\r\n    height: '100%',\r\n    width: '100%',\r\n\r\n    // Center all children\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }  \r\n});\r\n\r\n/**\r\n * Overlays the whole page with a spinner.\r\n */\r\nconst LoadingScreen: React.SFC<{}> = () => {\r\n  const styles = useStyles();\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <CircleSpinner size={64} />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default LoadingScreen;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nimport CritCityBadge from 'src/assets/badges/CritCity.png';\r\nimport LondonBadge   from 'src/assets/badges/London.png';\r\nimport NewYorkBadge  from 'src/assets/badges/NewYork.png';\r\nimport WatopiaBadge  from 'src/assets/badges/Watopia.png';\r\nimport DefaultBadge  from 'src/assets/badges/Default.png';\r\n\r\nconst badges: Record<string,any> = {\r\n  'Crit City': CritCityBadge,\r\n  'London':    LondonBadge,\r\n  'New York':  NewYorkBadge,\r\n  'Watopia':   WatopiaBadge\r\n};\r\n\r\nexport interface WorldBadgeProps {\r\n  world: string;\r\n}\r\n\r\n/* stylesheet */\r\nconst useStyles = makeStyles(\r\n  createStyles({\r\n    badge: {\r\n      height:     '30vw',\r\n      maxHeight:  '12rem',\r\n      maxWidth:   '12rem',\r\n      width:      '30vw'\r\n    }\r\n  })\r\n);\r\n\r\nconst WorldBadge: React.SFC<WorldBadgeProps> = ({ world }: WorldBadgeProps) => {\r\n  const styles = useStyles();\r\n  const badge = world in badges ? badges[world] : DefaultBadge;\r\n\r\n  return (\r\n    <div className={styles.badge}>\r\n      <img className={styles.badge} src={badge} alt={world} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorldBadge;\r\n","import React from 'react';\r\nimport { ZwiftRoute } from 'src/models';\r\nimport ZwiftInsiderIcon from 'src/assets/zwiftinsider.png';\r\n\r\nexport interface ZwiftInsiderLinkProps {\r\n  route: ZwiftRoute;\r\n  size?: string;\r\n}\r\n\r\nconst ZwiftInsiderLink: React.SFC<ZwiftInsiderLinkProps> \r\n  = ({ route, size = '2rem' }: ZwiftInsiderLinkProps) => {\r\n\r\n    if (route.zwiftInsiderLink) {\r\n      return (\r\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={route.zwiftInsiderLink.toString()}>\r\n          <img \r\n            src={ZwiftInsiderIcon} \r\n            alt=\"Zwift Insider\"\r\n            style={{ height: size, width: size }} \r\n          />\r\n        </a>\r\n      );\r\n    }\r\n\r\n    return(<span />);\r\n  };\r\n\r\nexport default ZwiftInsiderLink;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport EventIcon from '@material-ui/icons/EmojiEventsOutlined';\r\nimport BikeIcon from '@material-ui/icons/DirectionsBikeOutlined';\r\nimport RunIcon from '@material-ui/icons/DirectionsRunOutlined';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { ZwiftRoute } from 'src/models';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => \r\n  createStyles({\r\n    iconContainer: {\r\n      display: 'block',\r\n      padding: theme.spacing(0.5)\r\n    },\r\n    icon: {\r\n      color: 'inherit',\r\n      display: 'inline',\r\n      marginRight: theme.spacing(0.5),\r\n      marginLeft: theme.spacing(0.5)\r\n    },\r\n    text: {\r\n      color: 'inherit',\r\n      display: 'inline',\r\n      fontSize: '1.5rem',\r\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n      marginRight: theme.spacing(0.5),\r\n      marginLeft: theme.spacing(0.5),\r\n      verticalAlign: 'top'\r\n    }\r\n  })\r\n);\r\n\r\nexport interface ZwiftRouteIconsProps {\r\n  fontSize?: string;\r\n  /** The route to display */\r\n  route: ZwiftRoute;\r\n}\r\n\r\nconst ZwiftRouteIcons: React.SFC<ZwiftRouteIconsProps> = \r\n  ({ fontSize = \"1.5rem\", route }: ZwiftRouteIconsProps) => {\r\n    const styles = useStyles();\r\n\r\n    const eventOnlyIcon = (\r\n      <Tooltip title=\"Event only\" aria-label=\"Event only\">\r\n        <div className={styles.icon}>\r\n          <EventIcon data-testid=\"event-icon\" color=\"inherit\" />\r\n        </div>\r\n      </Tooltip>\r\n    );\r\n\r\n    const cyclingIcon = (\r\n      <Tooltip title=\"Cycling\" aria-label=\"Cycling\">\r\n        <div className={styles.icon}>\r\n          <BikeIcon data-testid=\"cycling-icon\" color=\"inherit\" />\r\n        </div>\r\n      </Tooltip>\r\n    );\r\n\r\n    const runningIcon = (\r\n      <Tooltip title=\"Running\" aria-label=\"Running\">\r\n        <div className={styles.icon}>\r\n          <RunIcon data-testid=\"running-icon\" color=\"inherit\" />\r\n        </div>\r\n      </Tooltip>\r\n    );\r\n\r\n    const levelIcon = (\r\n      <Tooltip title=\"Minimum Zwift Level\" aria-label=\"Minimum Zwift Level\">\r\n        <div data-testid=\"level-icon\" className={styles.text}>\r\n          {route.minimumZwiftLevel}+\r\n        </div>\r\n      </Tooltip>\r\n    );\r\n\r\n    return (\r\n      <div className={styles.iconContainer} style={{ fontSize: fontSize }}>\r\n        {route.isEventOnly && eventOnlyIcon}\r\n        {route.isForCycling && cyclingIcon}\r\n        {route.isForRunning && runningIcon}\r\n        {route.minimumZwiftLevel > 0 && levelIcon}\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default ZwiftRouteIcons;\r\n","import { SortField, SortOrder, SortDirection, ZwiftRoute } from 'src/models';\r\n\r\ntype ZwiftSortFn = (a: ZwiftRoute, b: ZwiftRoute) => number\r\n\r\n/**\r\n * Provides a comparator for sorting alphabetically, ignoring case.\r\n * \r\n * @param a the first string\r\n * @param b the second string\r\n * @returns -1, 0, or 1 depending on sort order\r\n */\r\nconst alphabetically = (a: string, b: string): number =>\r\n  a.toLowerCase().localeCompare(b.toLowerCase());\r\n\r\n/**\r\n * Returns the sort comparator to use when sorting the Zwift Routes.\r\n * \r\n * @param sortField the field to sort by.\r\n * @param ascending sort ascending is true, descending if false\r\n */\r\nfunction getComparator(sortOrder: SortOrder): ZwiftSortFn {\r\n  switch (sortOrder.sortField) {\r\n    case SortField.Difficulty:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => a.difficulty - b.difficulty\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => b.difficulty - a.difficulty;\r\n    case SortField.RouteDistance:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => a.routeDistance - b.routeDistance\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => b.routeDistance - a.routeDistance;\r\n    case SortField.RouteElevationGain:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => a.routeElevationGain - b.routeElevationGain\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => b.routeElevationGain - a.routeElevationGain;\r\n    case SortField.TotalDistance:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => a.totalDistance - b.totalDistance\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => b.totalDistance - a.totalDistance;\r\n    case SortField.TotalElevationGain:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => a.totalElevationGain - b.totalElevationGain\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => b.totalElevationGain - a.totalElevationGain;\r\n    case SortField.Name:\r\n    default:\r\n      return sortOrder.sortDirection === SortDirection.Ascending\r\n        ? (a: ZwiftRoute, b: ZwiftRoute) => alphabetically(a.routeName, b.routeName)\r\n        : (a: ZwiftRoute, b: ZwiftRoute) => alphabetically(b.routeName, a.routeName);\r\n  }\r\n}\r\n\r\nexport default getComparator;\r\n","import { DisplayUnits } from 'src/models';\r\n\r\n/**\r\n * Converts kilometers to miles.\r\n * \r\n * @param distance distance to convert, in km\r\n * @returns the same distance in miles\r\n */\r\nexport const toMiles = (distance: number): number => distance * 0.6213712;\r\n\r\n/**\r\n * Converts meters to feet.\r\n * \r\n * @param elevationGain the elevation gain to convert, in m\r\n * @returns the same elevation gain in feet\r\n */\r\nexport const toFeet = (elevationGain: number): number => elevationGain * 3.28084;\r\n\r\n/**\r\n * Converts a distance to a printable string\r\n *\r\n * @param {number} distance the distance to display\r\n * @param {DisplayUnits} displayUnits the display units (imperial or metric)\r\n * \r\n * @returns {string}\r\n */\r\nexport function formatDistance(distance: number, displayUnits: DisplayUnits): string {\r\n  switch (displayUnits) {\r\n    case DisplayUnits.Imperial:\r\n      return `${toMiles(distance).toFixed(1)}mi`;\r\n    case DisplayUnits.Metric:\r\n      return `${distance.toFixed(1)}km`;\r\n  }\r\n}\r\n\r\n/**\r\n * Converts an elevation gain to a printable string\r\n *\r\n * @param {number} elevationGain the elevation gain to display\r\n * @param {DisplayUnits} displayUnits the display units (imperial or metric)\r\n * \r\n * \r\n * @returns {string}\r\n */\r\nexport function formatElevationGain(elevationGain: number, displayUnits: DisplayUnits): string {\r\n  switch (displayUnits) {\r\n    case DisplayUnits.Imperial:\r\n      return `${toFeet(elevationGain).toFixed(0)}ft`;\r\n    case DisplayUnits.Metric:\r\n      return `${elevationGain.toFixed(0)}m`;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CompletedIcon from './CompletedIcon';\r\nimport { DisplayUnits, ZwiftRoute } from 'src/models';\r\nimport { formatDistance, formatElevationGain } from 'src/utils';\r\n\r\nexport interface ZwiftRouteListItemProps {\r\n  /** What display units for distance and elevation gain */\r\n  displayUnits: DisplayUnits;\r\n\r\n  /** Click handler */\r\n  onClick?: () => void;\r\n\r\n  /** The route to display */\r\n  route: ZwiftRoute;\r\n}\r\n\r\n/**\r\n * Displays a single row in the route-list.  See ZwiftRouteList.tsx\r\n * \r\n * @param props the component properties - see ZwiftRouteListItemProps\r\n */\r\nconst ZwiftRouteListItem: React.SFC<ZwiftRouteListItemProps> = \r\n  ({ displayUnits, onClick, route }: ZwiftRouteListItemProps) => {\r\n    /** Handler for the click event */\r\n    const handleClick = (): void => { if (onClick) onClick(); };\r\n\r\n    /** What text should we display under the title */\r\n    const distance = formatDistance(route.routeDistance, displayUnits);\r\n    const elevation = formatElevationGain(route.routeElevationGain, displayUnits);\r\n    const difficulty = route.difficulty.toFixed(2);\r\n    const secondaryText = `${distance}, ${elevation}, difficulty ${difficulty}`;\r\n\r\n    return (\r\n      <ListItem button divider data-testid={route.id} onClick={handleClick}>\r\n        <ListItemAvatar>\r\n          <CompletedIcon isCompleted={route.isCompleted} />\r\n        </ListItemAvatar>\r\n        <ListItemText secondary={secondaryText}>\r\n          <Typography variant=\"h6\">{route.routeName}</Typography>\r\n        </ListItemText>\r\n      </ListItem>\r\n    );\r\n  };\r\n\r\nexport default ZwiftRouteListItem;\r\n","import { DisplaySettings, RouteFilter, SortOrder } from 'src/models';\r\nimport { FluxAction } from 'src/redux/types';\r\n\r\n/* Enum to define the action types */\r\nexport enum ActionType {\r\n  ClearError   = 'app.clear-error',\r\n  SetDisplay   = 'app.set-display',\r\n  SetError     = 'app.set-error',\r\n  SetFilter    = 'app.set-filter',\r\n  SetSort      = 'app.set-sort',\r\n  StartRequest = 'app.start-request',\r\n  StopRequest  = 'app.stop-request'\r\n}\r\n\r\n/** Action creator to acknowledge the error */\r\nexport const clearError = (): FluxAction => ({\r\n  type: ActionType.ClearError\r\n});\r\n\r\n/**\r\n * Sets the display settings for the app.\r\n * @param displaySettings the new display settings\r\n */\r\nexport const setDisplay = (displaySettings: DisplaySettings): FluxAction => ({\r\n  type: ActionType.SetDisplay,\r\n  payload: displaySettings\r\n});\r\n\r\n/**\r\n * Action creator for when a network request has an error\r\n * @param error the network error\r\n */\r\nexport const setError = (error: Error): FluxAction => ({\r\n  type: ActionType.SetError,\r\n  error\r\n});\r\n\r\n/**\r\n * Action creator to set the filtering used on the route list\r\n * @param filter the new route filter to use\r\n */\r\nexport const setFilter = (filter: RouteFilter): FluxAction => ({\r\n  type: ActionType.SetFilter,\r\n  payload: filter\r\n});\r\n\r\n/**\r\n * Action creator to set the list sort order.\r\n * @param sortOrder the new sort order\r\n */\r\nexport const setSort = (sortOrder: SortOrder): FluxAction => ({\r\n  type: ActionType.SetSort,\r\n  payload: sortOrder\r\n});\r\n\r\n/** Action creator for when a network request is started */\r\nexport const startRequest = (): FluxAction => ({\r\n  type: ActionType.StartRequest\r\n});\r\n\r\n/** Action creator for when a network request is finished */\r\nexport const stopRequest = (): FluxAction => ({\r\n  type: ActionType.StopRequest\r\n});\r\n","import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ZwiftRouteListItem from './ZwiftRouteListItem';\r\nimport { ZwiftRoute, DisplayUnits } from 'src/models';\r\n\r\nexport interface ZwiftRouteListProps {\r\n  /** Event handler called when the user clicks on a route */\r\n  onRouteSelected?: (id: string) => void;\r\n\r\n  /** The list of routes to display */\r\n  routes: ZwiftRoute[];\r\n\r\n  /** What units are used to display distances and elevation gain? */\r\n  displayUnits?: DisplayUnits;\r\n}\r\n\r\n/**\r\n * Displays the provided list of routes.\r\n * \r\n * @param props The properties for this component\r\n */\r\nconst ZwiftRouteList: React.SFC<ZwiftRouteListProps> = \r\n  ({ displayUnits = DisplayUnits.Imperial, onRouteSelected, routes }: ZwiftRouteListProps) => {\r\n    /** Event handler called when the user clicks on a route */\r\n    const onClick = (route: ZwiftRoute): void => {\r\n      if (onRouteSelected) onRouteSelected(route.id);\r\n    };\r\n\r\n    return (\r\n      <List>\r\n        {routes.map((route) => (\r\n          <ZwiftRouteListItem \r\n            key={route.id} \r\n            displayUnits={displayUnits}\r\n            route={route}\r\n            onClick={() => onClick(route)}\r\n          />\r\n        ))}\r\n      </List>\r\n    )\r\n  };\r\n\r\nexport default ZwiftRouteList;\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\n\r\nimport { DisplayUnits, ZwiftRoute } from 'src/models';\r\nimport { formatDistance, formatElevationGain } from 'src/utils';\r\n\r\nexport interface ZwiftRouteTableProps {\r\n  /** What units to display measurements in */\r\n  displayUnits: DisplayUnits;\r\n\r\n  /** The route information to display */\r\n  route: ZwiftRoute;\r\n}\r\n\r\n/* Stylesheet */\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  table: {\r\n    paddingLeft: theme.spacing(0.5),\r\n    paddingRight: theme.spacing(0.5)\r\n  }\r\n}));\r\n\r\nconst ZwiftRouteTable: React.SFC<ZwiftRouteTableProps> = \r\n  ({ displayUnits, route }: ZwiftRouteTableProps) => {\r\n\r\n    const styles = useStyles();\r\n    const leadinDistance = formatDistance(route.leadinDistance, displayUnits);\r\n    const routeDistance = formatDistance(route.routeDistance, displayUnits);\r\n    const totalDistance = formatDistance(route.totalDistance, displayUnits);\r\n    const leadinElevationGain = formatElevationGain(route.leadinElevationGain, displayUnits);\r\n    const routeElevationGain = formatElevationGain(route.routeElevationGain, displayUnits);\r\n    const totalElevationGain = formatElevationGain(route.totalElevationGain, displayUnits);\r\n\r\n    return (\r\n      <TableContainer component={Paper}>\r\n        <Table className={styles.table}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>&nbsp;</TableCell>\r\n              <TableCell align=\"center\">Distance</TableCell>\r\n              <TableCell align=\"center\">Elevation</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>Lead in</TableCell>\r\n              <TableCell align=\"center\">{leadinDistance}</TableCell>\r\n              <TableCell align=\"center\">{leadinElevationGain}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Route</TableCell>\r\n              <TableCell align=\"center\">{routeDistance}</TableCell>\r\n              <TableCell align=\"center\">{routeElevationGain}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Total</TableCell>\r\n              <TableCell align=\"center\">{totalDistance}</TableCell>\r\n              <TableCell align=\"center\">{totalElevationGain}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Difficulty</TableCell>\r\n              <TableCell colSpan={2} align=\"center\">\r\n                {`${route.difficulty.toFixed(2)}`}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    );\r\n  };\r\n\r\nexport default ZwiftRouteTable;\r\n","import { FluxAction } from \"src/redux/types\";\r\nimport { ZwiftRoute } from \"src/models\";\r\n\r\nexport enum RouteActionTypes {\r\n  LoadRoutes    = 'route.load-routes',\r\n  UpdateRoute   = 'route.update-route'\r\n}\r\n\r\n/**\r\n * Action creator to load the routes into the redux store.\r\n * \r\n * @param routes the list of routes\r\n */\r\nexport const loadRoutes = (routes: ZwiftRoute[]): FluxAction => ({\r\n  type: RouteActionTypes.LoadRoutes,\r\n  payload: routes\r\n});\r\n\r\n/**\r\n * Action creator to update a route in the redux store.\r\n * @param route the updated route \r\n */\r\nexport const updateRoute = (route: ZwiftRoute): FluxAction => ({\r\n  type: RouteActionTypes.UpdateRoute,\r\n  payload: route\r\n});\r\n","import Dexie from 'dexie';\r\nimport { ZwiftUserService } from './internal-types';\r\nimport { ZwiftUserData } from 'src/models';\r\n\r\n/**\r\n * Definition of dexie options\r\n * @see https://dexie.org/docs/Dexie/Dexie\r\n */\r\ninterface DexieOptions {\r\n  autoOpen?: boolean;\r\n  indexedDB?: IDBFactory;\r\n}\r\n\r\n/**\r\n * The Dexie user database.  Default values are valid for production\r\n * use and match the existing web app.\r\n */\r\nclass ZwiftUserDatabase extends Dexie {\r\n  routeState: Dexie.Table<ZwiftUserData, string>;\r\n\r\n  constructor(databaseName: string, options: DexieOptions) {\r\n    // If options.indexedDB isn't given, then make sure it is gone!\r\n    if (!options.indexedDB) delete options.indexedDB;\r\n    super(databaseName, options);\r\n    this.version(1).stores({\r\n      routeState: '&routeId,isCompleted'\r\n    });\r\n    this.routeState = this.table('routeState');\r\n  }\r\n}\r\n\r\n/**\r\n * Implementation of the ZwiftUserService that uses IndexedDB via the\r\n * Dexie package as the underlying data store.\r\n */\r\nexport default class DexieUserService implements ZwiftUserService {\r\n  private database: ZwiftUserDatabase;\r\n\r\n  /**\r\n   * Opens the database for use.  The defaults are meant for handling the\r\n   * production case.  You may, however, set the database name and indexedDB\r\n   * object for mocking purposes.\r\n   * \r\n   * @param databaseName The name of the database (zwiftroutes by default)\r\n   * @param indexedDB a pointer to the IDBFactory\r\n   */\r\n  constructor(databaseName: string = 'zwiftroutes', indexedDB?: IDBFactory) {\r\n    const options: DexieOptions = {\r\n      autoOpen: true,\r\n      indexedDB\r\n    };\r\n    this.database = new ZwiftUserDatabase(databaseName, options);\r\n  }\r\n\r\n  /**\r\n   * Returns all the user data (asynchronously) as an array.\r\n   */\r\n  async getAllUserData(): Promise<ZwiftUserData[]> {\r\n    const result = await this.database.routeState.toArray();\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Async method to retrieve the data from the store. \r\n   * \r\n   * @param id the route ID for the ZwiftRoute\r\n   * @returns the ZwiftUserData, or undefined if none available (async).\r\n   */\r\n  async getUserData(id: string): Promise<ZwiftUserData | undefined> {\r\n    const userData = await this.database.routeState.get(id);\r\n    return userData;\r\n  }\r\n\r\n  /**\r\n   * Stores the user data in the backing store (asynchronously)\r\n   * @param userData the user data to store.\r\n   */\r\n  async setUserData(userData: ZwiftUserData): Promise<void> {\r\n    await this.database.routeState.put(userData);\r\n  }\r\n}\r\n","import DexieUserService from './DexieUserService';\r\nimport ZwiftRouteService from './ZwiftRouteService';\r\n\r\n/* Re-export the types for this module */\r\nexport { DexieUserService, ZwiftRouteService };\r\n\r\n/* The user data service singleton */\r\nexport const userService = new DexieUserService();\r\n\r\n/* The route service singleton */\r\nexport const routeService = new ZwiftRouteService(userService);\r\n","import { ZwiftUserService } from './internal-types';\r\nimport { ZwiftRoute, ZwiftRouteData } from 'src/models';\r\nimport staticRouteData from 'src/data/routes.json';\r\n\r\n/**\r\n * Stores and retrieves the route data from the backing store(s).  The route\r\n * data is comprised of both static and dynamic data.\r\n */\r\nexport default class ZwiftRouteService {\r\n  private userService: ZwiftUserService;\r\n  private sourceData: ZwiftRouteData[];\r\n\r\n  /**\r\n   * Creates a new ZwiftRouteService.\r\n   * \r\n   * @param userService the service used to store and retrieve the dynamic data\r\n   * @param sourceData the source data for the static data store.\r\n   */\r\n  constructor(userService: ZwiftUserService, sourceData?: ZwiftRouteData[]) {\r\n    this.userService = userService;\r\n    this.sourceData = sourceData || staticRouteData;\r\n  }\r\n\r\n  /**\r\n   * Receives all the routes, including dynamic data, asynchronously.\r\n   * \r\n   * @returns the list of routes (async)\r\n   */\r\n  async getAllZwiftRoutes(): Promise<ZwiftRoute[]> {\r\n    const allUserData = await this.userService.getAllUserData();\r\n    const result = this.sourceData.map((routeData) => {\r\n      const dynamicData = allUserData.find((r) => r.routeId === routeData.id);\r\n      return new ZwiftRoute(routeData, dynamicData);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Returns the route data for a single route (asynchronously).\r\n   * \r\n   * @param id the ID of the route to return.\r\n   * @returns the route or undefined if the route does not exist.\r\n   */\r\n  async getZwiftRoute(id: string): Promise<ZwiftRoute | undefined> {\r\n    const routeData = this.sourceData.find((r) => r.id === id);\r\n    if (!routeData) return undefined;\r\n    const dynamicData = await this.userService.getUserData(id);\r\n    return new ZwiftRoute(routeData, dynamicData);\r\n  }\r\n\r\n  /**\r\n   * Stores the zwift route dynamic data within the data store.\r\n   * \r\n   * @param route the route to store.\r\n   */\r\n  async storeZwiftRoute(route: ZwiftRoute): Promise<void> {\r\n    const userData = route.getZwiftUserData();\r\n    await this.userService.setUserData(userData);\r\n  }\r\n}\r\n","import { startRequest, stopRequest, setError } from './modules/app/actions';\r\nimport { updateRoute as updateRouteInStore } from './modules/route/actions';\r\nimport { ZwiftRoute } from 'src/models';\r\nimport { routeService } from 'src/services';\r\nimport { AnyAction, Dispatch } from 'redux';\r\n\r\nexport {\r\n  clearError,\r\n  setDisplay,\r\n  setError,\r\n  setFilter,\r\n  setSort,\r\n  startRequest,\r\n  stopRequest\r\n} from './modules/app/actions'\r\n\r\nexport {\r\n  loadRoutes,\r\n  updateRoute as updateRouteInStore\r\n} from './modules/route/actions'\r\n\r\nexport function updateRoute(route: ZwiftRoute) {\r\n  return (dispatch: Dispatch<AnyAction>) => {\r\n    dispatch(startRequest());\r\n    routeService.storeZwiftRoute(route)\r\n      .then(() => {\r\n        dispatch(stopRequest());\r\n        dispatch(updateRouteInStore(route));\r\n        return;\r\n      })\r\n      .catch((error: Error) => {\r\n        dispatch(setError(error));\r\n      });\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport BackIcon from '@material-ui/icons/ArrowBack';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n  CompletedIcon,\r\n  WorldBadge,\r\n  ZwiftInsiderLink,\r\n  ZwiftRouteIcons,\r\n  ZwiftRouteTable\r\n} from 'src/ui/components';\r\nimport { ReduxState } from 'src/redux/types';\r\nimport { updateRoute } from 'src/redux/actions';\r\nimport { ZwiftRoute } from 'src/models';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    height: '100%',\r\n    left: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 0,\r\n    width: '100%'\r\n  },\r\n  content: {\r\n    display: 'block',\r\n    flexGrow: 1,\r\n    overflowY: 'scroll'\r\n  },\r\n  menuIconButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  infoBlock: {\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    margin: theme.spacing(2)\r\n  },\r\n  badge: {\r\n    flexGrow: 1\r\n  },\r\n  infoRight: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    flexGrow: 1\r\n  },\r\n  infoTop: {\r\n    display: 'block',\r\n    textAlign: 'center'\r\n  },\r\n  infoBottom: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center'\r\n  },\r\n  zwiftInsiderBlock: {\r\n    flexGrow: 1,\r\n    textAlign: 'center'\r\n  },\r\n  completedBlock: {\r\n    flexGrow: 1,\r\n    textAlign: 'center'\r\n  }\r\n}));\r\n\r\nconst RouteDetailsPage: React.SFC<{}> = () => {\r\n  const { id } = useParams();\r\n  const style = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const routes: ZwiftRoute[] = useSelector((state: ReduxState) => state.routes);\r\n  const route = routes.find((r) => r.id === id);\r\n  const appSettings = useSelector((state: ReduxState) => state.app);\r\n\r\n  if (!route) {\r\n    return (\r\n      <>\r\n        <h1>Error: ID not found</h1>\r\n        <p>ID: {id}</p>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const onClick = (): void => {\r\n    route.isCompleted = !route.isCompleted;\r\n    dispatch(updateRoute(route))\r\n  }\r\n\r\n  return (\r\n    <div className={style.root}>\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton className={style.menuIconButton} color=\"inherit\" edge=\"start\" onClick={() => history.goBack()}>\r\n            <BackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{ flexGrow: 1, overflowX: 'hidden' }}>\r\n            {route.routeName}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={style.content}>\r\n        <div className={style.infoBlock}>\r\n          <div className={style.badge}>\r\n            <WorldBadge world={route.zwiftWorld} />\r\n          </div>\r\n          <div className={style.infoRight}>\r\n            <div className={style.infoTop}>\r\n              <ZwiftRouteIcons route={route} />\r\n            </div>\r\n            <div className={style.infoBottom}>\r\n              <div className={style.zwiftInsiderBlock}>\r\n                <ZwiftInsiderLink route={route} />\r\n              </div>\r\n              <div className={style.completedBlock}>\r\n                <IconButton onClick={onClick}>\r\n                  <CompletedIcon isCompleted={route.isCompleted} />\r\n                </IconButton>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ZwiftRouteTable displayUnits={appSettings.display.units} route={route} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RouteDetailsPage;\r\n","import React from 'react';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport RoutesIcon from '@material-ui/icons/Directions';\r\nimport StatisticsIcon from '@material-ui/icons/EmojiEvents';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  drawerPaper: {\r\n    width: drawerWidth\r\n  },\r\n  drawer: theme.mixins.toolbar\r\n}));\r\n\r\nexport interface MobileSideMenuProps {\r\n  onSelect: (route: string) => void;\r\n  onClose: () => void;\r\n  open: boolean;\r\n}\r\n\r\nconst MobileSideMenu: React.SFC<MobileSideMenuProps> = \r\n  ({ onClose, onSelect, open }: MobileSideMenuProps) => {\r\n    const styles = useStyles();\r\n    const dc = {\r\n      paper: styles.drawerPaper\r\n    };\r\n\r\n    return (\r\n      <Drawer classes={dc} anchor=\"left\" open={open} onClose={onClose}>\r\n        <div className={styles.drawer}>\r\n          <List>\r\n            <ListItem button onClick={() => onSelect('/')} key=\"menu1\">\r\n              <ListItemIcon><RoutesIcon /></ListItemIcon>\r\n              <ListItemText>Routes</ListItemText>\r\n            </ListItem>\r\n            <ListItem button onClick={() => onSelect('/stats')} key=\"menu1\">\r\n              <ListItemIcon><StatisticsIcon /></ListItemIcon>\r\n              <ListItemText>Statistics</ListItemText>\r\n            </ListItem>\r\n            <ListItem button onClick={() => onSelect('/settings')} key=\"menu1\">\r\n              <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n              <ListItemText>Settings</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n    );\r\n  };\r\n\r\nexport default MobileSideMenu;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ReduxState } from 'src/redux/types';\r\nimport { getComparator } from 'src/utils';\r\nimport { ZwiftRoute } from 'src/models';\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MobileSideMenu from './MobileSideMenu';\r\nimport { ZwiftRouteList } from 'src/ui/components';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    height: '100%',\r\n    left: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 0,\r\n    width: '100%'\r\n  },\r\n  content: {\r\n    display: 'block',\r\n    flexGrow: 1,\r\n    overflowY: 'scroll'\r\n  },\r\n  menuIconButton: {\r\n    marginRight: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst RouteListPage: React.SFC<{}> = () => {\r\n  const style = useStyles();\r\n  const history = useHistory();\r\n  const [ drawer, setDrawer ] = React.useState(false);\r\n  const routes: ZwiftRoute[] = useSelector((state: ReduxState) => state.routes);\r\n  const appSettings = useSelector((state: ReduxState) => state.app);\r\n\r\n  const routeList = routes\r\n    .filter((r) => r.isMatch(appSettings.filter))\r\n    .sort(getComparator(appSettings.sortOrder));\r\n\r\n  const onRouteSelected = (id: string): void => {\r\n    history.push(`/details/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className={style.root}>\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton className={style.menuIconButton} color=\"inherit\" edge=\"start\" onClick={() => setDrawer(true)}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\r\n            Zwift Routes\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={style.content}>\r\n        <ZwiftRouteList\r\n          displayUnits={appSettings.display.units}\r\n          routes={routeList}\r\n          onRouteSelected={onRouteSelected}\r\n        />\r\n      </div>\r\n      <MobileSideMenu \r\n        onClose={() => setDrawer(false)} \r\n        onSelect={(route: string) => { setDrawer(false); history.replace(route); }} \r\n        open={drawer} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RouteListPage;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { ZwiftRoute } from 'src/models';\r\nimport uniq from 'lodash/uniq';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    width: '94%'\r\n  },\r\n  table: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}));\r\n\r\ninterface RouteStats {\r\n  completedCount: number;\r\n  totalCount: number;\r\n  completedScore: number;\r\n  totalScore: number;\r\n}\r\n\r\nconst emptyStats = {\r\n  completedCount: 0,\r\n  totalCount: 0,\r\n  completedScore: 0,\r\n  totalScore: 0\r\n};\r\n\r\nconst updateStats = (obj: RouteStats, route: ZwiftRoute): void => {\r\n  obj.totalCount += 1;\r\n  obj.totalScore += route.difficulty;\r\n  if (route.isCompleted) {\r\n    obj.completedCount += 1;\r\n    obj.completedScore += route.difficulty;\r\n  }\r\n}\r\n\r\nexport interface RouteStatisticsProps {\r\n  routes: ZwiftRoute[];\r\n  title?: boolean;\r\n}\r\n\r\nconst RouteStatistics: React.SFC<RouteStatisticsProps> = \r\n  ({ routes, title = true }: RouteStatisticsProps) => {\r\n    const styles = useStyles();\r\n    const worlds = uniq(routes.map((r) => r.zwiftWorld)).sort();\r\n\r\n    const routeStats: Record<string,RouteStats> = {};\r\n    worlds.forEach((world) => {\r\n      routeStats[world] = { ...emptyStats };\r\n    });\r\n    const totals: RouteStats = { ...emptyStats };\r\n\r\n    routes.forEach((route) => {\r\n      updateStats(totals, route);\r\n      updateStats(routeStats[route.zwiftWorld], route);\r\n    });\r\n\r\n    const completedStats = (stats: RouteStats): string => {\r\n      const percent = (stats.completedCount / stats.totalCount) * 100.0;\r\n      return `${percent.toFixed(1)}%`;\r\n    };\r\n\r\n    const scoreStats = (stats: RouteStats): string => {\r\n      return stats.completedScore.toFixed(2);\r\n    };\r\n\r\n    const titleComponent = title \r\n      ? <Typography align=\"center\" variant=\"h5\">Route Statistics</Typography>\r\n      : (<span />);\r\n    \r\n    return (\r\n      <div className={styles.root}>\r\n        {titleComponent}\r\n        <TableContainer component={Paper} className={styles.table}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Route</TableCell>\r\n                <TableCell align=\"center\">Completed</TableCell>\r\n                <TableCell align=\"center\">Score</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {worlds.map((world) => (\r\n                <TableRow key={world}>\r\n                  <TableCell>{world}</TableCell>\r\n                  <TableCell align=\"center\">{completedStats(routeStats[world])}</TableCell>\r\n                  <TableCell align=\"center\">{scoreStats(routeStats[world])}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n              <TableRow>\r\n                <TableCell><b>Totals</b></TableCell>\r\n                <TableCell align=\"center\"><b>{completedStats(totals)}</b></TableCell>\r\n                <TableCell align=\"center\"><b>{scoreStats(totals)}</b></TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default RouteStatistics;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MobileSideMenu from './MobileSideMenu';\r\nimport RouteStatistics from '../desktop/RouteStatistics';\r\nimport { ReduxState } from 'src/redux/types';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    height: '100%',\r\n    left: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 0,\r\n    width: '100%'\r\n  },\r\n  content: {\r\n    display: 'block',\r\n    flexGrow: 1,\r\n    overflowY: 'scroll'\r\n  },\r\n  menuIconButton: {\r\n    marginRight: theme.spacing(2)\r\n  }\r\n}));\r\nconst RouteStatsPage: React.SFC<{}> = () => {\r\n  const style = useStyles();\r\n  const history = useHistory();\r\n  const routes = useSelector((state: ReduxState) => state.routes);\r\n  const [ drawer, setDrawer ] = React.useState(false);\r\n\r\n  return (\r\n    <div className={style.root}>\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton className={style.menuIconButton} color=\"inherit\" edge=\"start\" onClick={() => setDrawer(true)}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\r\n            Statistics\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={style.content}>\r\n        <RouteStatistics title={false} routes={routes} />\r\n      </div>\r\n      <MobileSideMenu \r\n        onClose={() => setDrawer(false)} \r\n        onSelect={(route: string) => { setDrawer(false); history.replace(route); }} \r\n        open={drawer} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RouteStatsPage;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MobileSideMenu from './MobileSideMenu';\r\nimport { FormDisplay, FormFilter, FormSortOrder } from 'src/ui/components';\r\nimport { ReduxState } from 'src/redux/types';\r\nimport { DisplaySettings, RouteFilter, SortOrder } from 'src/models';\r\nimport * as actions from 'src/redux/actions';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    height: '100%',\r\n    left: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 0,\r\n    width: '100%'\r\n  },\r\n  content: {\r\n    display: 'block',\r\n    flexGrow: 1,\r\n    overflowY: 'scroll'\r\n  },\r\n  menuIconButton: {\r\n    marginRight: theme.spacing(2)\r\n  }\r\n}));\r\nconst SettingsPage: React.SFC<{}> = () => {\r\n  const style = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const routes = useSelector((state: ReduxState) => state.routes);\r\n  const appSettings = useSelector((state: ReduxState) => state.app);\r\n  const [ drawer, setDrawer ] = React.useState(false);\r\n\r\n  const onUpdateDisplaySettings = (displaySettings: DisplaySettings): void => {\r\n    dispatch(actions.setDisplay(displaySettings));\r\n  };\r\n\r\n  const onUpdateFilter = (filter: RouteFilter): void => {\r\n    dispatch(actions.setFilter(filter));\r\n  };\r\n\r\n  const onUpdateSortOrder = (sortOrder: SortOrder): void => {\r\n    dispatch(actions.setSort(sortOrder));\r\n  };\r\n\r\n  return (\r\n    <div className={style.root}>\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton className={style.menuIconButton} color=\"inherit\" edge=\"start\" onClick={() => setDrawer(true)}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\r\n            Settings\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={style.content}>\r\n        <FormFilter \r\n          filter={appSettings.filter} \r\n          routes={routes} \r\n          onUpdate={onUpdateFilter} \r\n        />\r\n        <FormSortOrder \r\n          sortOrder={appSettings.sortOrder} \r\n          onUpdate={onUpdateSortOrder} \r\n        />\r\n        <FormDisplay \r\n          displaySettings={appSettings.display} \r\n          onUpdate={onUpdateDisplaySettings} \r\n        />\r\n      </div>\r\n      <MobileSideMenu \r\n        onClose={() => setDrawer(false)} \r\n        onSelect={(route: string) => { setDrawer(false); history.replace(route); }} \r\n        open={drawer} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsPage;\r\n\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { \r\n  SettingsPage, \r\n  RouteDetailsPage,\r\n  RouteStatsPage, \r\n  RouteListPage \r\n} from './mobile';\r\n\r\nconst MobileApplication: React.SFC<{}> = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/settings\">\r\n        <SettingsPage />\r\n      </Route>\r\n      <Route path=\"/details/:id\">\r\n        <RouteDetailsPage />\r\n      </Route>\r\n      <Route path=\"/stats\">\r\n        <RouteStatsPage />\r\n      </Route>\r\n      <Route path=\"/\">\r\n        <RouteListPage />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default MobileApplication;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => createStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    height: '100%'\r\n  },\r\n  detail: {\r\n    flexGrow: 1,\r\n    height: '94vh',\r\n    overflowY: 'auto',\r\n    backgroundColor: '#F0F0F0'\r\n  },\r\n  master: {\r\n    width: '600px',\r\n    maxWidth: '50%',\r\n    height: '94vh',\r\n    overflowY: 'auto'\r\n  }\r\n}));\r\n\r\nexport interface MasterDetailContainerProps {\r\n  children: React.ReactNode;\r\n  master: React.ReactNode;\r\n}\r\n\r\nconst MasterDetailContainer: React.SFC<MasterDetailContainerProps> =\r\n  ({ children, master}: MasterDetailContainerProps) => {\r\n    const styles = useStyles();\r\n\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.master}>\r\n          {master}\r\n        </div>\r\n        <div className={styles.detail}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default MasterDetailContainer;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as UI from 'src/ui/components'; \r\n\r\nimport { DisplayUnits, ZwiftRoute } from 'src/models';\r\nimport ZwiftInsiderLink from 'src/ui/components/ZwiftInsiderLink';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  lower: {\r\n    display: 'block'\r\n  },\r\n  upper: {\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(2)\r\n  },\r\n  badge: {\r\n    display: 'block',\r\n    padding: theme.spacing(2)\r\n  },\r\n  info: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  links: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap'\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    paddingTop: theme.spacing(4)\r\n  },\r\n  zwiftInsiderLink: {\r\n    flexGrow: 1\r\n  },\r\n  completedLink: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport interface RouteDetailsProps {\r\n  displayUnits?: DisplayUnits;\r\n  onCompletedChanged?: (isCompleted: boolean) => void;\r\n  route: ZwiftRoute;\r\n}\r\n\r\nconst RouteDetails: React.SFC<RouteDetailsProps> = \r\n  ({ displayUnits = DisplayUnits.Metric, onCompletedChanged, route }: RouteDetailsProps) => {\r\n    const styles = useStyles();\r\n\r\n    const onCompleted = (): void => {\r\n      if (onCompletedChanged) onCompletedChanged(!route.isCompleted);\r\n    }\r\n\r\n    return (\r\n      <div className={styles.paper}>\r\n        <Paper>\r\n          <div className={styles.upper}>\r\n            <div className={styles.badge}>\r\n              <UI.WorldBadge world={route.zwiftWorld} />\r\n            </div>\r\n            <div className={styles.info}>\r\n              <Typography variant=\"h4\">{route.routeName}</Typography>\r\n              <UI.ZwiftRouteIcons route={route} />\r\n              <div className={styles.links}>\r\n                <div className={styles.zwiftInsiderLink}>\r\n                  <ZwiftInsiderLink route={route} />\r\n                </div>\r\n                <div className={styles.completedLink}>\r\n                  <IconButton data-testid=\"completed-button\" onClick={onCompleted}>\r\n                    <UI.CompletedIcon isCompleted={route.isCompleted} />\r\n                  </IconButton>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.lower}>\r\n            <UI.ZwiftRouteTable displayUnits={displayUnits} route={route} />\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default RouteDetails;\r\n","import React from 'react';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/MenuOutlined';\r\nimport SettingsIcon from '@material-ui/icons/SettingsOutlined';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { LoadingIndicator } from 'src/ui/components';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  iconButton: {\r\n    marginRight: theme.spacing(1),\r\n    marginLeft: theme.spacing(1),\r\n    color: theme.palette.primary.contrastText\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nexport interface TABProps {\r\n  error?: Error;\r\n  isBusy: boolean;\r\n  onAcknowledgeError: () => void;\r\n  onOpenMenu: () => void;\r\n  onOpenSettings: () => void;\r\n}\r\n\r\nconst TopApplicationBar: React.SFC<TABProps> = \r\n  ({ error, isBusy, onAcknowledgeError, onOpenMenu, onOpenSettings }: TABProps) => {\r\n    const styles = useStyles();\r\n\r\n    return (\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={styles.iconButton} onClick={onOpenMenu}>\r\n            <MenuIcon data-testid=\"menu-icon\" />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={styles.title}>\r\n            Zwift Routes\r\n          </Typography>\r\n          <LoadingIndicator\r\n            error={error}\r\n            isLoading={isBusy}\r\n            onClick={onAcknowledgeError} \r\n          />\r\n          <IconButton className={styles.iconButton} onClick={onOpenSettings}>\r\n            <SettingsIcon data-testid=\"settings-icon\" />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  };\r\n\r\nexport default TopApplicationBar;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Switch, Route, useHistory, useParams } from 'react-router-dom';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloseIcon from '@material-ui/icons/CloseOutlined';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport StatisticsIcon from '@material-ui/icons/EmojiEvents';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MasterDetailContainer from './desktop/MasterDetailContainer';\r\nimport RouteDetails from './desktop/RouteDetails';\r\nimport RouteStatistics from './desktop/RouteStatistics';\r\nimport TopApplicationBar from './desktop/TopApplicationBar';\r\nimport { FormDisplay, FormFilter, FormSortOrder, ZwiftRouteList } from 'src/ui/components';\r\nimport { ReduxState } from 'src/redux/types';\r\nimport { getComparator } from 'src/utils';\r\nimport { DisplaySettings, RouteFilter, SortOrder } from 'src/models';\r\nimport * as actions from 'src/redux/actions'; \r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n  fullPage: {\r\n    backgroundColor: '#F0F0F0',\r\n    height: '100%',\r\n    left: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    position: 'fixed',\r\n    top: 0,\r\n    width: '100%'\r\n  },\r\n  mainLayout: {\r\n    alignItems: 'stretch',\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    justifyContent: 'flex-start'\r\n  },\r\n  mainContent: {\r\n    alignSelf: 'center',\r\n    backgroundColor: 'white',\r\n    flexGrow: 1,\r\n    maxWidth: '1280px',\r\n    width: '100%'\r\n  },\r\n  drawerPaper: {\r\n    marginTop: '64px',\r\n    width: drawerWidth\r\n  },\r\n  drawer: theme.mixins.toolbar,\r\n  dialogTitle: {\r\n    margin: 0,\r\n    padding: theme.spacing(2)\r\n  },\r\n  dialogClose: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500]\r\n  }\r\n}));\r\n\r\n/**\r\n * Desktop version of the Zwift Routes application.  This is a master\r\n * detail version, where the left-hand side of the screen is the list\r\n * of routes, and the right-hand side is filled in with the details of\r\n * the route.\r\n */\r\nconst DesktopApplication: React.SFC<{}> = () => {\r\n  const styles = useStyles();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [drawerIsOpen, setDrawer] = React.useState(false);\r\n  const [settingsIsOpen, setSettings] = React.useState(false);\r\n  const appState = useSelector((state: ReduxState) => state.app);\r\n  const routes = useSelector((state: ReduxState) => state.routes);\r\n\r\n  const routeList = routes\r\n    .filter((r) => r.isMatch(appState.filter))\r\n    .sort(getComparator(appState.sortOrder));\r\n\r\n  const acknowledgeError = (): void => { \r\n    dispatch(actions.clearError()); \r\n  };\r\n\r\n  const goToPage = (route: string) => (): void => {\r\n    setDrawer(false);\r\n    history.replace(route);\r\n  };\r\n\r\n  const goToDetails = (id: string): void => {\r\n    history.replace(`/details/${id}`);\r\n  };\r\n\r\n  const updateDisplaySettings = (displaySettings: DisplaySettings): void => {\r\n    dispatch(actions.setDisplay(displaySettings));\r\n  };\r\n\r\n  const updateRouteFilter = (filter: RouteFilter): void => {\r\n    dispatch(actions.setFilter(filter));\r\n  };\r\n\r\n  const updateSortOrder = (sortOrder: SortOrder): void => {\r\n    dispatch(actions.setSort(sortOrder));\r\n  };\r\n\r\n  const masterComponent = (\r\n    <ZwiftRouteList \r\n      displayUnits={appState.display.units}\r\n      routes={routeList}\r\n      onRouteSelected={goToDetails} />\r\n  );\r\n\r\n  const Details: React.SFC<{}> = () => {\r\n    const { id } = useParams();\r\n    const route = routes.find((r) => r.id === id);\r\n    \r\n    const markCompleted = (isCompleted: boolean): void => {\r\n      if (route) {\r\n        route.isCompleted = isCompleted;\r\n        dispatch(actions.updateRoute(route));\r\n      }\r\n    };\r\n\r\n    if (route) {\r\n      return (\r\n        <RouteDetails \r\n          displayUnits={appState.display.units} \r\n          onCompletedChanged={markCompleted}\r\n          route={route} \r\n        />\r\n      );\r\n    }\r\n    return (<div>An error occurred: id = {id}</div>);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={[styles.fullPage, styles.mainLayout].join(' ')}>\r\n        <div>\r\n          <TopApplicationBar\r\n            isBusy={appState.requests > 0}\r\n            error={appState.error}\r\n            onAcknowledgeError={acknowledgeError}\r\n            onOpenMenu={() => setDrawer(true)} \r\n            onOpenSettings={() => setSettings(true)}\r\n          />\r\n        </div>\r\n        <div className={styles.mainContent}>\r\n          <MasterDetailContainer master={masterComponent}>\r\n            <Switch>\r\n              <Route path=\"/stats\"><RouteStatistics routes={routes} /></Route>\r\n              <Route path=\"/details/:id\"><Details /></Route>\r\n              <Route path=\"/\"><RouteStatistics routes={routes} /></Route>\r\n            </Switch>\r\n          </MasterDetailContainer>\r\n        </div>\r\n      </div>\r\n      <Drawer classes={{ paper: styles.drawerPaper }} anchor=\"left\" open={drawerIsOpen} onClose={() => setDrawer(false)}>\r\n        <div className={styles.drawer}>\r\n          <List>\r\n            <ListItem button onClick={goToPage('/stats')} key=\"menu1\">\r\n              <ListItemIcon><StatisticsIcon /></ListItemIcon>\r\n              <ListItemText>Statistics</ListItemText>\r\n            </ListItem>\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n      <Dialog onClose={() => setSettings(false)} open={settingsIsOpen}>\r\n        <DialogTitle disableTypography className={styles.dialogTitle}>\r\n          <Typography variant=\"h6\">Settings</Typography>\r\n          <IconButton className={styles.dialogClose} onClick={() => setSettings(false)}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <FormFilter routes={routes} filter={appState.filter} onUpdate={updateRouteFilter} />\r\n          <FormSortOrder sortOrder={appState.sortOrder} onUpdate={updateSortOrder} />\r\n          <FormDisplay displaySettings={appState.display} onUpdate={updateDisplaySettings} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={() => setSettings(false)} color=\"primary\">\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default DesktopApplication;\r\n","import React from 'react';\r\nimport Media from 'react-media';\r\nimport MobileApplication from './MobileApplication';\r\nimport DesktopApplication from './DesktopApplication';\r\n\r\nconst MainApplication: React.SFC<{}> = () => {\r\n  const mediaQueries = {\r\n    mobile:  `(max-width: 599px)`,\r\n    desktop: `(min-width: 600px)`\r\n  };\r\n\r\n  return (\r\n    <Media queries={mediaQueries}>\r\n      { matches => (\r\n        <>\r\n        { matches.mobile && <MobileApplication />}\r\n        { matches.desktop && <DesktopApplication />}\r\n        </>\r\n      )}\r\n    </Media>\r\n  );\r\n};\r\n\r\nexport default MainApplication;\r\n","import { DisplayUnits, SortDirection, SortField, ZwiftSport } from 'src/models';\r\nimport { FluxAction } from 'src/redux/types';\r\nimport { ActionType } from './actions';\r\nimport AppState from './state';\r\n\r\nconst initialState: AppState = {\r\n  requests: 0,\r\n  display: { \r\n    units: DisplayUnits.Imperial \r\n  },\r\n  filter: {\r\n    sport: ZwiftSport.Cycling,\r\n    includeCompletedRoutes: false,\r\n    includeDefaultWorld: true,\r\n    includeEventOnlyRoutes: false\r\n  },\r\n  sortOrder: {\r\n    sortField: SortField.Difficulty,\r\n    sortDirection: SortDirection.Ascending\r\n  }\r\n};\r\n\r\nfunction reducer(state = initialState, action: FluxAction): AppState {\r\n  switch (action.type) {\r\n    case ActionType.ClearError:\r\n      return { ...state, error: undefined };\r\n    case ActionType.SetDisplay:\r\n      return { ...state, display: action.payload };\r\n    case ActionType.SetError:\r\n      return { ...state, requests: state.requests - 1, error: action.error };\r\n    case ActionType.SetFilter:\r\n      return { ...state, filter: action.payload };\r\n    case ActionType.SetSort:\r\n      return { ...state, sortOrder: action.payload };\r\n    case ActionType.StartRequest:\r\n      return { ...state, requests: state.requests + 1 };\r\n    case ActionType.StopRequest:\r\n      return { ...state, requests: state.requests - 1 };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { FluxAction } from 'src/redux/types';\r\nimport { RouteActionTypes } from './actions';\r\nimport RouteState from \"./state\";\r\nimport { ZwiftRoute } from 'src/models';\r\n\r\n/* Initial state for the redux store */\r\nconst initialState: RouteState = [];\r\n\r\n/**\r\n * Redux reducer for the routes module.\r\n * \r\n * @param state current state\r\n * @param action action to be performed\r\n * @returns new state\r\n */\r\nfunction reducer(state = initialState, action: FluxAction): RouteState {\r\n  switch (action.type) {\r\n    case RouteActionTypes.LoadRoutes:\r\n      return [ ...action.payload ];\r\n    case RouteActionTypes.UpdateRoute: {\r\n      const route = action.payload as ZwiftRoute;\r\n      return state.map((r) => r.id === route.id ? route : r);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { applyMiddleware, compose, createStore, combineReducers } from 'redux';\r\nimport { createLogger } from 'redux-logger';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport appReducer from './modules/app/reducer';\r\nimport routeReducer from './modules/route/reducer';\r\nimport * as actions from './actions';\r\nimport { routeService } from 'src/services';\r\n\r\n/* Configuration for redux-persist */\r\nconst persistConfig = {\r\n  key: 'settings',\r\n  storage,\r\n  whitelist: [ 'display', 'filter', 'sortOrder' ]\r\n};\r\nconst rootReducer = combineReducers({\r\n  app: persistReducer(persistConfig, appReducer),\r\n  routes: routeReducer\r\n});\r\n\r\n/* Configure redux middleware */\r\nconst loggerConfiguration = {\r\n  collapsed: true,\r\n  diff: true, \r\n  // Log only if not testing\r\n  predicate: () => (typeof jest === 'undefined')\r\n};\r\n\r\n/* Apply Middleware to the store */\r\nconst middleware = applyMiddleware(\r\n  createLogger(loggerConfiguration),\r\n  thunkMiddleware\r\n);\r\n\r\n/* Create the redux store */\r\nexport const store = compose(middleware)(createStore)(rootReducer);\r\nexport const persistor = persistStore(store);\r\n\r\n/* Dispatch initialization actions - ignore for code coverage */\r\nstore.dispatch(actions.startRequest());\r\nrouteService.getAllZwiftRoutes().then((routes) => {\r\n  store.dispatch(actions.loadRoutes(routes));\r\n  store.dispatch(actions.stopRequest());\r\n  return;\r\n}).catch((error) => {\r\n  store.dispatch(actions.setError(error));\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/es/integration/react';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { LoadingOverlay } from 'src/ui/components';\r\nimport { MainApplication } from 'src/ui/containers';\r\nimport { persistor, store } from 'src/redux/store';\r\nimport * as serviceWorker from 'src/serviceWorker';\r\n\r\nimport './index.css';\r\n\r\nconst Application: React.SFC<{}> = () => (\r\n  <Provider store={store}>\r\n    <PersistGate loading={<LoadingOverlay />} persistor={persistor}>\r\n      <Router>\r\n        <MainApplication />\r\n      </Router>\r\n    </PersistGate>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(<Application />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}